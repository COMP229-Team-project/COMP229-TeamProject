<mat-list role="list">
  <h2>Creating a survey is simple!</h2>
  <mat-list-item role="listitem">
    <strong>Survey Basics: </strong>
  </mat-list-item>
  <mat-list-item role="listitem">
    This will appear on the front page. Give your quiz an interesting title and
    description.
  </mat-list-item>

  <mat-list-item role="listitem">
    <strong>Survey lifetime:</strong>
  </mat-list-item>

  <mat-list-item role="listitem"
    >You can also choose when it will activate and disappear by setting the
    lifetime.
  </mat-list-item>

  <mat-list-item role="listitem">
    <strong>Questions:</strong>
  </mat-list-item>

  <mat-list-item role="listitem">
    Enter the Questions you want to ask and the possible answers your users can
    give.</mat-list-item
  >

  <mat-list-item role="listitem">
    <strong>Done:</strong>
  </mat-list-item>

  <mat-list-item role="listitem"
    >That's it! Click create survey to activate it. You can always change things
    via your dashboard.</mat-list-item
  >
  <mat-list-item role="listitem">
    <strong
      >Move more freely through the creation process by disabling linear
      mode:</strong
    >
  </mat-list-item>

  <mat-list-item role="listitem">
    <button
      position="center"
      mat-raised-button
      (click)="isLinear = !isLinear"
      id="toggle-linear"
    >
      {{ !isLinear ? "Enable linear mode" : "Disable linear mode" }}
    </button>
  </mat-list-item>
</mat-list>

<!-- SURVEY BUILDER FORM -->
<mat-stepper
  [linear]="isLinear"
  #stepper
  [orientation]="(isDesktop$ | async) ? 'vertical' : 'horizontal'"
>
  <!-- FORM BASICS -->
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Survey Basics</ng-template>
      <mat-form-field>
        <mat-label>Survey Title</mat-label>
        <input
          matInput
          type="text"
          placeholder="Enter survey title..."
          formControlName="title"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Survey Description</mat-label>
        <input
          matInput
          type="text"
          placeholder="Enter a description..."
          formControlName="description"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Survey Avatar URL</mat-label>
        <input
          matInput
          placeholder="Enter an avatar url"
          formControlName="avatar"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field appearance="fill">
        <mat-label>Survey Lifetime</mat-label>
        <mat-date-range-input [rangePicker]="picker">
          <input
            formControlName="startDate"
            matStartDate
            placeholder="Start date"
          />
          <input formControlName="endDate" matEndDate placeholder="End date" />
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
      </mat-form-field>

      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <!-- BUILD FIRST QUESTION -->
  <mat-step [stepControl]="secondFormGroup" label="Question 1">
    <form [formGroup]="secondFormGroup">
      <mat-form-field>
        <mat-label>Enter your first question!</mat-label>
        <input
          matInput
          type="text"
          formControlName="question1"
          placeholder="Ex. What is the capital of Canada?"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the first possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer1"
          placeholder="Toronto"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the second possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer2"
          placeholder="Montreal"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the third possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer3"
          placeholder="Ottawa"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the fourth possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer4"
          placeholder="Vancouver"
          autocomplete="off"
          required
        />
      </mat-form-field>

      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <!-- BUILD SECOND QUESTION -->
  <mat-step [stepControl]="thirdFormGroup" label="Question 2">
    <form [formGroup]="thirdFormGroup">
      <mat-form-field>
        <mat-label>Enter your first question!</mat-label>
        <input
          matInput
          type="text"
          formControlName="question2"
          placeholder="Ex. What is the capital of Canada?"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the first possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer1"
          placeholder="Toronto"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the second possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer2"
          placeholder="Montreal"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the third possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer3"
          placeholder="Ottawa"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the fourth possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer4"
          placeholder="Vancouver"
          autocomplete="off"
          required
        />
      </mat-form-field>

      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <!-- BUILD THRID QUESTION -->
  <mat-step [stepControl]="fourthFormGroup" label="Question 3">
    <form [formGroup]="fourthFormGroup">
      <mat-form-field>
        <mat-label>Enter your first question!</mat-label>
        <input
          matInput
          type="text"
          formControlName="question3"
          placeholder="Ex. What is the capital of Canada?"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the first possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer1"
          placeholder="Toronto"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the second possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer2"
          placeholder="Montreal"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the third possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer3"
          placeholder="Ottawa"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the fourth possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer4"
          placeholder="Vancouver"
          autocomplete="off"
          required
        />
      </mat-form-field>

      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <!-- BUILD FOURTH QUESTION -->
  <mat-step [stepControl]="fithFormGroup" label="Question 4">
    <form [formGroup]="fithFormGroup">
      <mat-form-field>
        <mat-label>Enter your first question!</mat-label>
        <input
          matInput
          type="text"
          formControlName="question4"
          placeholder="Ex. What is the capital of Canada?"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the first possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer1"
          placeholder="Toronto"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the second possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer2"
          placeholder="Montreal"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the third possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer3"
          placeholder="Ottawa"
          autocomplete="off"
          required
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Enter the fourth possible answer</mat-label>
        <input
          matInput
          type="text"
          formControlName="answer4"
          placeholder="Vancouver"
          autocomplete="off"
          required
        />
      </mat-form-field>

      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <!-- SUBMIT FORM OR RESET -->
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <p>Hit create survey if your ready!</p>
    <div>
      <button mat-stroked-button matStepperPrevious>Back</button>
      <button mat-stroked-button color="warn" (click)="stepper.reset()">
        Reset
      </button>

      <!-- If the route DOES NOT have an id parameter, display the create survey button -->
      <button
        *ngIf="!this.route.snapshot.params['id']; else other_content"
        mat-stroked-button
        color="primary"
        (click)="createSurvey()"
      >
        Create Survey
      </button>
      <!-- Otherwise, display the edit survey button -->
      <ng-template #other_content>
        <button mat-stroked-button color="primary" (click)="EditSurvey()">
          Edit Survey
        </button>
      </ng-template>
    </div>
  </mat-step>
</mat-stepper>
